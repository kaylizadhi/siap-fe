(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4654],{210:function(e,a,i){Promise.resolve().then(i.bind(i,2255))},9376:function(e,a,i){"use strict";var t=i(5475);i.o(t,"useParams")&&i.d(a,{useParams:function(){return t.useParams}}),i.o(t,"usePathname")&&i.d(a,{usePathname:function(){return t.usePathname}}),i.o(t,"useRouter")&&i.d(a,{useRouter:function(){return t.useRouter}})},2255:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return l}});var t=i(7437),n=i(2265),r=i(9376),u=i(6e3),s=i.n(u);function l(){let e=(0,r.useRouter)(),a=(0,r.useParams)(),[i,u]=(0,n.useState)([]),[l,o]=(0,n.useState)([]),c=a.id,[v,d]=(0,n.useState)({});(0,n.useEffect)(()=>{async function e(){try{let e=await fetch("".concat("https://siap-be-production.up.railway.app/api/","survei/get-survei-detail/").concat(c,"/"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");let a=await e.json();d(a)}catch(e){console.error("Failed to fetch data:",e)}}c&&e()},[c]);let h=async e=>{try{let a=await fetch("http://127.0.0.1:8000/api/survei/lokasi?param=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),i=await a.json();o(i)}catch(e){console.error("Error fetching daerah:",e),o([])}},p=async()=>{try{let e=await fetch("http://127.0.0.1:8000/api/klien/",{method:"GET",headers:{"Content-Type":"application/json"}}),a=await e.json();u(a)}catch(e){console.error("Error fetching klien:",e),u([])}};(0,n.useEffect)(()=>{p()},[]);let _=e=>{let a=e.target.value;d({...v,ruang_lingkup:a}),h(a)},m=async()=>{try{let a=await fetch("".concat("https://siap-be-production.up.railway.app/api/","survei/update-survei/").concat(c,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),i=await a.json();(null==i?void 0:i.success)&&e.push("/survei")}catch(e){console.log("response",v),alert("Gagal menyimpan perubahan informasi survei")}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{className:s().headingSurvei,children:"Daftar Survei"}),(0,t.jsxs)("div",{className:s().containerSurvei,children:[(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Judul Survei"}),(0,t.jsx)("input",{className:s().textFieldSurvei,type:"text",name:"judulsurvei",value:v.nama_survei||"",onChange:e=>d({...v,nama_survei:e.target.value})}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Nama Klien"}),(0,t.jsxs)("select",{className:s().textFieldSurvei,value:v.nama_klien||"",onChange:e=>d({...v,klien_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:v.nama_klien}),i.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nama_klien},e.id))]}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Ruang Lingkup Survei"}),(0,t.jsxs)("div",{className:s().radioGroupSurvei,children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",name:"ruanglingkup",value:"Nasional",checked:"Nasional"===v.ruang_lingkup,onChange:_}),"Nasional"]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",name:"ruanglingkup",value:"Provinsi",checked:"Provinsi"===v.ruang_lingkup,onChange:_}),"Provinsi"]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"radio",name:"ruanglingkup",value:"Kabupaten/Kota",checked:"Kabupaten/Kota"===v.ruang_lingkup,onChange:_}),"Kabupaten/Kota"]})]}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,style:{marginTop:"12px"},children:"Daerah"}),(0,t.jsxs)("select",{className:s().textFieldSurvei,value:v.wilayah_survei||"",onChange:e=>d({...v,wilayah_survei:e.target.value}),children:[(0,t.jsx)("option",{value:""}),l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Harga"}),(0,t.jsx)("input",{className:s().textFieldSurvei,type:"text",name:"hargasurvei",value:v.harga_survei||"",onChange:e=>d({...v,harga_survei:e.target.value})}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Jumlah Responden"}),(0,t.jsx)("input",{className:s().textFieldSurvei,type:"text",name:"jumlahresponden",value:v.jumlah_responden||"",onChange:e=>d({...v,jumlah_responden:e.target.value})}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Tanggal Mulai"}),(0,t.jsx)("input",{min:new Date().toISOString().split("T")[0],className:s().container,type:"date",name:"tanggalmulai",value:v.waktu_mulai_survei?v.waktu_mulai_survei.split("T")[0]:"",onChange:e=>d({...v,waktu_mulai_survei:e.target.value})}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Tanggal Berakhir"}),(0,t.jsx)("input",{min:new Date().toISOString().split("T")[0],className:s().container,type:"date",name:"tanggalberakhir",value:v.waktu_berakhir_survei?v.waktu_berakhir_survei.split("T")[0]:"",onChange:e=>d({...v,waktu_berakhir_survei:e.target.value})}),(0,t.jsx)("b",{className:s().textFieldTitleSurvei,children:"Tipe Survei"}),(0,t.jsxs)("select",{className:s().textFieldSurvei,type:"text",name:"tipesurvei",value:v.tipe_survei||"",onChange:e=>d({...v,tipe_survei:e.target.value}),children:[(0,t.jsx)("option",{value:"Paper-based",children:"Paper-based"}),(0,t.jsx)("option",{value:"Digital",children:"Digital"}),(0,t.jsx)("option",{value:"Paper-based",children:"Lainnya"})]}),(0,t.jsx)("button",{onClick:m,className:s().primaryButtonSurvei,children:"Simpan"}),(0,t.jsx)("button",{onClick:()=>{e.push("/survei")},className:s().secondaryButtonSurvei,children:"Batal"})]})]})}},6e3:function(e){e.exports={headingSurvei:"survei_headingSurvei__hWzo8",buttonTambahSurvei:"survei_buttonTambahSurvei__gJe_e",iconChevron:"survei_iconChevron__FydQC",buttonEnabledSebelumnya:"survei_buttonEnabledSebelumnya__Cz3nY",buttonDisabledSebelumnya:"survei_buttonDisabledSebelumnya__gqkct",buttonEnabledSelanjutnya:"survei_buttonEnabledSelanjutnya__oqIC6",buttonDisabledSelanjutnya:"survei_buttonDisabledSelanjutnya__2WOb3",buttonSurvei:"survei_buttonSurvei__hdXsX",iconSurvei:"survei_iconSurvei__uE6hZ",tableContainerSurvei:"survei_tableContainerSurvei__DWZrT",containerSurvei:"survei_containerSurvei__htfRQ",textFieldSurvei:"survei_textFieldSurvei__UJ9hf",textFieldSurveiDropdown:"survei_textFieldSurveiDropdown__Gy6zJ",textFieldTitleSurvei:"survei_textFieldTitleSurvei__Wb5nm",primaryButtonSurvei:"survei_primaryButtonSurvei__jrQF0",secondaryButtonSurvei:"survei_secondaryButtonSurvei__ZwVxE",searchBarContainer:"survei_searchBarContainer__ZnWTU",iconSearch:"survei_iconSearch__ySMWd",searchBar:"survei_searchBar__RDH9p",idContainer:"survei_idContainer__G8hnp",radioGroupSurvei:"survei_radioGroupSurvei__NNY3u",iconEdit:"survei_iconEdit__U5F8i",daerahList:"survei_daerahList__7Yweb"}}},function(e){e.O(0,[3878,2971,2117,1744],function(){return e(e.s=210)}),_N_E=e.O()}]);