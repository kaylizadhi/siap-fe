(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2685],{3395:function(e,n,i){Promise.resolve().then(i.bind(i,1815))},9376:function(e,n,i){"use strict";var a=i(5475);i.o(a,"useParams")&&i.d(n,{useParams:function(){return a.useParams}}),i.o(a,"usePathname")&&i.d(n,{usePathname:function(){return a.usePathname}}),i.o(a,"useRouter")&&i.d(n,{useRouter:function(){return a.useRouter}})},1815:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return s}});var a=i(7437),o=i(2265),t=i(9376),u=i(8946),r=i.n(u);function s(){let[e,n]=(0,o.useState)({nama_souvenir:"",jumlah_stok:"",jumlah_minimum:""}),i=(0,t.useRouter)(),u=async n=>{if(n.preventDefault(),!e.nama_souvenir){alert("Nama souvenir tidak boleh kosong.");return}if(!e.jumlah_stok||isNaN(e.jumlah_stok)){alert("Jumlah stok tidak boleh kosong.");return}if(!e.jumlah_minimum||isNaN(e.jumlah_minimum)){alert("Jumlah minimum tidak boleh kosong.");return}let a={...e,jumlah_stok:parseInt(e.jumlah_stok),jumlah_minimum:parseInt(e.jumlah_minimum)};try{let n=await fetch("".concat("https://siap-be-production.up.railway.app/api/","souvenir/check-souvenir/").concat(e.nama_souvenir,"/"),{method:"GET",headers:{"Content-Type":"application/json"}}),o=await n.json();if(n.ok){if((null==o?void 0:o.is_deleted)===!0){let e=await fetch("".concat("https://siap-be-production.up.railway.app/api/","souvenir/update-souvenir/").concat(o.id,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,is_deleted:!1})}),n=await e.json();e.ok&&(null==n?void 0:n.id)?(alert("Berhasil memperbarui souvenir yang sudah dihapus!"),i.push("/souvenir")):alert("Gagal memperbarui souvenir!")}else alert("Souvenir dengan nama ini sudah ada.")}else{let e=await fetch("".concat("https://siap-be-production.up.railway.app/api/","souvenir/add-souvenir/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await e.json();e.ok&&(null==n?void 0:n.id)?(alert("Berhasil menambahkan souvenir!"),i.push("/souvenir")):alert("Gagal menambahkan souvenir!")}}catch(e){console.error("Error:",e)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{className:r().headingSouvenir,children:"Tambah Souvenir"}),(0,a.jsxs)("form",{onSubmit:u,className:r().containerSouvenir,children:[(0,a.jsx)("b",{className:r().textFieldTitleSouvenir,children:"Nama Souvenir"}),(0,a.jsx)("input",{className:r().textFieldSouvenir,type:"text",name:"namasouvenir",placeholder:"Masukkan nama souvenir",onChange:i=>n({...e,nama_souvenir:i.target.value})}),(0,a.jsx)("b",{className:r().textFieldTitleSouvenir,children:"Jumlah Stok"}),(0,a.jsx)("input",{className:r().textFieldSouvenir,type:"number",name:"jumlahstok",placeholder:"Masukkan jumlah stok",onChange:i=>n({...e,jumlah_stok:i.target.value})}),(0,a.jsx)("b",{className:r().textFieldTitleSouvenir,children:"Jumlah Minimum"}),(0,a.jsx)("input",{className:r().textFieldSouvenir,type:"number",name:"jumlahminimum",placeholder:"Masukkan jumlah minimum",onChange:i=>n({...e,jumlah_minimum:i.target.value})}),(0,a.jsx)("button",{type:"submit",className:r().primaryButtonSouvenir,children:"Simpan"}),(0,a.jsx)("button",{type:"button",onClick:()=>{i.push("/souvenir")},className:r().secondaryButtonSouvenir,children:"Batal"})]})]})}},8946:function(e){e.exports={headingSouvenir:"souvenir_headingSouvenir__olTyR",containerSouvenir:"souvenir_containerSouvenir__VMdfL",inputContainer:"souvenir_inputContainer___BKE3",iconEdit:"souvenir_iconEdit__bqk_9",textFieldSouvenir:"souvenir_textFieldSouvenir__CcUOK",textFieldTitleSouvenir:"souvenir_textFieldTitleSouvenir__NdWeX",primaryButtonSouvenir:"souvenir_primaryButtonSouvenir__kFy0G",secondaryButtonSouvenir:"souvenir_secondaryButtonSouvenir___01xj",primaryButtonSouvenir2:"souvenir_primaryButtonSouvenir2__9wpQA",secondaryButtonSouvenir2:"souvenir_secondaryButtonSouvenir2__XxtIQ",searchBarContainer:"souvenir_searchBarContainer__huo9t",iconSearch:"souvenir_iconSearch__qVu_9",searchBar:"souvenir_searchBar__ZBYG8",tableContainerSouvenir:"souvenir_tableContainerSouvenir__Equhi",buttonSouvenir:"souvenir_buttonSouvenir__d5QX5",iconSouvenir:"souvenir_iconSouvenir__M2ihp",iconSouvenir1:"souvenir_iconSouvenir1__W9MyI",iconChevron:"souvenir_iconChevron__PZjsk",buttonEnabledSebelumnya:"souvenir_buttonEnabledSebelumnya__SW_iA",buttonDisabledSebelumnya:"souvenir_buttonDisabledSebelumnya__9ZKCn",buttonEnabledSelanjutnya:"souvenir_buttonEnabledSelanjutnya__rRzIw",buttonDisabledSelanjutnya:"souvenir_buttonDisabledSelanjutnya__rse1G",buttonTambahSouvenir:"souvenir_buttonTambahSouvenir__GFoMl",idContainer:"souvenir_idContainer__mP7v1",notification:"souvenir_notification__tBaTD",closeButton:"souvenir_closeButton__zNz1J"}}},function(e){e.O(0,[7724,2971,2117,1744],function(){return e(e.s=3395)}),_N_E=e.O()}]);