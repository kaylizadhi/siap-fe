(()=>{var e={};e.id=88,e.ids=[88],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},1359:(e,n,a)=>{"use strict";a.r(n),a.d(n,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>u}),a(82),a(6765),a(996);var t=a(170),o=a(5002),r=a(3876),i=a.n(r),l=a(6299),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);a.d(n,s);let u=["",{children:["generator-dokumen",{children:["kwitansi-dp",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,82)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\generator-dokumen\\kwitansi-dp\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\generator-dokumen\\kwitansi-dp\\page.js"],p="/generator-dokumen/kwitansi-dp/page",c={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/generator-dokumen/kwitansi-dp/page",pathname:"/generator-dokumen/kwitansi-dp",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},3908:(e,n,a)=>{Promise.resolve().then(a.bind(a,9451))},9451:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>s});var t=a(7247),o=a(8964),r=a(4178),i=a(498),l=a.n(i);let s=()=>{let e=(0,r.useRouter)(),[n,a]=(0,o.useState)("");(0,o.useEffect)(()=>{(async()=>{let n=localStorage.getItem("authToken");if(!n){console.log("Token missing - redirecting to login"),e.push("/login");return}try{let a=await fetch("https://siap-be-production.up.railway.app/api/accounts/check_role_administrasi/",{headers:{Authorization:`Token ${n}`}}),t=await a.json();console.log("Token verification response:",t),(t.error||"Administrasi"!==t.role)&&(console.log("Invalid role or error - redirecting to login"),e.push("/login"))}catch(n){console.error("Failed to verify role:",n),e.push("/login")}})()},[e]);let i=async()=>{try{let e=await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/generate-kwitansi-dp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pembayar:s,nominal_pembayaran:d,tujuan_pembayaran:c,nominal_tertulis:_,additional_info:k,amount:x,date:b})});if(!e.ok)throw Error("Failed to export document");let n=await e.blob(),a=window.URL.createObjectURL(n),t=document.createElement("a");t.href=a,t.download=`KwitansiDP_${c}.xlsx`,document.body.appendChild(t),t.click(),t.remove()}catch(e){console.error("Error exporting document:",e)}},[s,u]=(0,o.useState)(""),[d,p]=(0,o.useState)(""),[c,m]=(0,o.useState)(""),[_,g]=(0,o.useState)(""),[k,h]=(0,o.useState)(""),[x,v]=(0,o.useState)(""),[b,j]=(0,o.useState)(""),y=n=>{let t=n.target.value;a(t),"proposal"===t?e.push("/generator-dokumen/proposal"):"invoiceDP"===t?e.push("/generator-dokumen/invoice-dp"):"invoiceFinal"===t?e.push("/generator-dokumen/invoice-final"):"kontrak"===t?e.push("/generator-dokumen/kontrak"):"kwitansiDP"===t?e.push("/generator-dokumen/kwitansi-dp"):"kwitansiFinal"===t&&e.push("/generator-dokumen/kwitansi-final")};return(0,t.jsxs)("div",{className:l().containerbackground,children:[t.jsx("div",{className:l().container,children:(0,t.jsxs)("div",{className:l().content,children:[t.jsx("h1",{className:l().title,children:"Buat Dokumen"}),(0,t.jsxs)("div",{className:l().docType,children:[t.jsx("label",{className:l().label,children:"Jenis Dokumen"}),(0,t.jsxs)("div",{className:l().radioGroup,children:[t.jsx("input",{type:"radio",id:"proposal",name:"docType",value:"proposal",checked:"proposal"===n,onChange:y}),t.jsx("label",{htmlFor:"proposal",children:"Proposal"}),t.jsx("input",{type:"radio",id:"kontrak",name:"docType",value:"kontrak",checked:"kontrak"===n,onChange:y}),t.jsx("label",{htmlFor:"kontrak",children:"Kontrak"}),t.jsx("input",{type:"radio",id:"invoiceDP",name:"docType",value:"invoiceDP",checked:"invoiceDP"===n,onChange:y}),t.jsx("label",{htmlFor:"invoiceDP",children:"Invoice DP"}),t.jsx("input",{type:"radio",id:"invoiceFinal",name:"docType",value:"invoiceFinal",checked:"invoiceFinal"===n,onChange:y}),t.jsx("label",{htmlFor:"invoiceFinal",children:"Invoice Final"}),t.jsx("input",{type:"radio",id:"kwitansiDP",name:"docType",value:"kwitansiDP",checked:!0,onChange:y}),t.jsx("label",{htmlFor:"kwitansiDP",children:"Kwitansi DP"}),t.jsx("input",{type:"radio",id:"kwitansiFinal",name:"docType",value:"kwitansiFinal",checked:"kwitansiFinal"===n,onChange:y}),t.jsx("label",{htmlFor:"kwitansiFinal",children:"Kwitansi Final"})]})]}),(0,t.jsxs)("form",{className:l().form,onSubmit:e=>e.preventDefault(),children:[(0,t.jsxs)("div",{className:l().inputGroup,children:[t.jsx("label",{htmlFor:"pembayar",children:"Pembayar*"}),t.jsx("input",{type:"text",id:"pembayar",placeholder:"Masukkan nama pembayar",value:s,onChange:e=>u(e.target.value)})]}),(0,t.jsxs)("div",{className:l().inputGroup,children:[t.jsx("label",{htmlFor:"tujuanPembayaran",children:"Tujuan Pembayaran*"}),t.jsx("input",{type:"text",id:"tujuanPembayaran",placeholder:"Masukkan tujuan pembayaran",value:c,onChange:e=>m(e.target.value)})]}),(0,t.jsxs)("div",{className:l().inputGroup,children:[t.jsx("label",{htmlFor:"nominalTertulis",children:"Nominal Tertulis*"}),t.jsx("input",{type:"text",id:"nominalTertulis",placeholder:"Masukkan nominal tertulis",value:_,onChange:e=>g(e.target.value)})]}),(0,t.jsxs)("div",{className:l().inputGroup,children:[t.jsx("label",{htmlFor:"additionalInfo",children:"Keterangan"}),t.jsx("textarea",{id:"additionalInfo",placeholder:"Tambah keterangan",value:k,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{className:l().inputGroup,children:[t.jsx("label",{htmlFor:"amount",children:"Jumlah Pembayaran*"}),t.jsx("input",{type:"number",id:"amount",placeholder:"Masukkan jumlah",value:x,onChange:e=>v(e.target.value)})]}),(0,t.jsxs)("div",{className:l().datePicker,children:[t.jsx("label",{htmlFor:"date",children:"Tanggal Pembayaran*"}),t.jsx("input",{type:"date",id:"date",value:b,onChange:e=>j(e.target.value)})]}),(0,t.jsxs)("div",{className:l().buttonGroup,children:[t.jsx("button",{type:"button",className:l().cancelButton,onClick:()=>{u(""),p(""),m(""),g(""),h(""),v(""),j("")},children:"Batal"}),(0,t.jsxs)("button",{type:"button",className:l().exportButton,onClick:i,children:[t.jsx("img",{src:"/images/AddItem.svg",alt:"Export Icon"}),"Export"]})]})]})]})}),t.jsx("div",{className:l().footer,children:"@2024 optimasys | Contact optimasys.work@gmail.com"})]})}},498:e=>{e.exports={containerbackground:"generator-dokumen_containerbackground__FEzrU",container:"generator-dokumen_container__8j_qO",sidebar:"generator-dokumen_sidebar__u5qSZ",logo:"generator-dokumen_logo__qBrkw",icon:"generator-dokumen_icon___xo4c",nav:"generator-dokumen_nav__EmhF8",active:"generator-dokumen_active__TJZCN",logout:"generator-dokumen_logout__pLyqY",content:"generator-dokumen_content__cI__R",title:"generator-dokumen_title__jKNIU",subtitle:"generator-dokumen_subtitle__l1fPS",label:"generator-dokumen_label__sOjMv",form:"generator-dokumen_form__jya9Y",docType:"generator-dokumen_docType__PDR2H",exportSection:"generator-dokumen_exportSection__Q7w0R",radioGroup:"generator-dokumen_radioGroup__rCw8O",inputGroup:"generator-dokumen_inputGroup__Luvar",inputRow:"generator-dokumen_inputRow__3GpcW",nominalContainer:"generator-dokumen_nominalContainer__mdFn2",percentageContainer:"generator-dokumen_percentageContainer__HEG8s",nominalInput:"generator-dokumen_nominalInput__BhKTj",percentageInput:"generator-dokumen_percentageInput__zEMyN",datePicker:"generator-dokumen_datePicker__WXM_b",buttonGroup:"generator-dokumen_buttonGroup__wHz_0",submitButton:"generator-dokumen_submitButton__kDxe0",cancelButton:"generator-dokumen_cancelButton__MuCvK",exportButton:"generator-dokumen_exportButton__l0xMg",uploadButton:"generator-dokumen_uploadButton__e55iU",uploadConfirmButton:"generator-dokumen_uploadConfirmButton__D166G",image:"generator-dokumen_image__ZlmSn",kontrakImage:"generator-dokumen_kontrakImage__raqbj",footer:"generator-dokumen_footer__cnKQT",uploadContainer:"generator-dokumen_uploadContainer__P9Niw",uploadSubtitle:"generator-dokumen_uploadSubtitle__csQdM",fileInputLabel:"generator-dokumen_fileInputLabel__tCgH7",fileInput:"generator-dokumen_fileInput__KICVO"}},82:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>t});let t=(0,a(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\generator-dokumen\kwitansi-dp\page.js#default`)},3881:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>o});var t=a(4564);let o=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var n=require("../../../webpack-runtime.js");n.C(e);var a=e=>n(n.s=e),t=n.X(0,[379,354,564,384],()=>a(1359));module.exports=t})();