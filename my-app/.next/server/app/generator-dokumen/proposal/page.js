(()=>{var e={};e.id=479,e.ids=[479],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7524:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>p}),a(5105),a(6765),a(996);var o=a(170),n=a(5002),r=a(3876),i=a.n(r),l=a(6299),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);a.d(t,s);let p=["",{children:["generator-dokumen",{children:["proposal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5105)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\generator-dokumen\\proposal\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\generator-dokumen\\proposal\\page.js"],u="/generator-dokumen/proposal/page",c={require:a,loadChunk:()=>Promise.resolve()},m=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/generator-dokumen/proposal/page",pathname:"/generator-dokumen/proposal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},8895:(e,t,a)=>{Promise.resolve().then(a.bind(a,4126))},4126:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var o=a(7247),n=a(8964),r=a(4178),i=a(498),l=a.n(i);let s=()=>{let e=(0,r.useRouter)(),[t,a]=(0,n.useState)(""),[i,s]=(0,n.useState)(!1),[p,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{let t=async()=>{let e=await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/convert_pptx_to_image/");if(e.ok){let t=await e.blob();setSlideImage(URL.createObjectURL(t))}else console.error("Failed to load slide image.")};(async()=>{let t=localStorage.getItem("authToken");if(!t){e.push("/login");return}try{let a=await fetch("https://siap-be-production.up.railway.app/api/accounts/check_role_proposal/",{headers:{Authorization:`Token ${t}`}}),o=await a.json();(o.error||"Administrasi"!==o.role&&"Eksekutif"!==o.role)&&e.push("/login")}catch(t){console.error("Failed to verify role:",t),e.push("/login")}})(),t()},[e]);let u=async()=>{try{let e=await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/download_template_kontrak/",{method:"GET"});if(!e.ok)throw Error("Failed to download the template");let t=await e.blob(),a=window.URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download="templateProposal.ppt",document.body.appendChild(o),o.click(),o.remove()}catch(e){console.error("Error downloading template:",e)}},c=t=>{let o=t.target.value;a(o),"invoiceDP"===o&&e.push("/generator-dokumen/invoice-dp"),"invoiceFinal"===o&&e.push("/generator-dokumen/invoice-final"),"kontrak"===o&&e.push("/generator-dokumen/kontrak"),"kwitansiDP"===o&&e.push("/generator-dokumen/kwitansi-dp"),"kwitansiFinal"===o&&e.push("/generator-dokumen/kwitansi-final")},m=async()=>{if(!p){alert("Please select a file to upload.");return}if(window.confirm("Apakah anda yakin ingin mengubah template proposal pada sistem?")&&p){let e=new FormData;e.append("template",p);try{let t=localStorage.getItem("authToken");if(!(await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/upload_template_proposal/",{method:"POST",headers:{Authorization:`Token ${t}`},body:e})).ok)throw Error("Failed to upload the template");alert("Template uploaded successfully!"),s(!i),d()}catch(e){console.error("Error uploading template:",e),alert("Error uploading template")}}};return(0,o.jsxs)("div",{className:l().containerbackground,children:[o.jsx("div",{className:l().container,children:(0,o.jsxs)("div",{className:l().content,children:[o.jsx("h1",{className:l().title,children:"Buat Dokumen"}),(0,o.jsxs)("div",{className:l().docType,children:[o.jsx("label",{className:l().label,children:"Jenis Dokumen"}),(0,o.jsxs)("div",{className:l().radioGroup,children:[o.jsx("input",{type:"radio",id:"Proposal",name:"docType",value:"proposal",checked:!0,readOnly:!0}),o.jsx("label",{htmlFor:"proposal",children:"Proposal"}),o.jsx("input",{type:"radio",id:"kontrak",name:"docType",value:"kontrak",checked:"kontrak"===t,onChange:c}),o.jsx("label",{htmlFor:"kontrak",children:"Kontrak"}),o.jsx("input",{type:"radio",id:"invoiceDP",name:"docType",value:"invoiceDP",checked:"invoiceDP"===t,onChange:c}),o.jsx("label",{htmlFor:"invoiceDP",children:"Invoice DP"}),o.jsx("input",{type:"radio",id:"invoiceFinal",name:"docType",value:"invoiceFinal",checked:"invoiceFinal"===t,onChange:c}),o.jsx("label",{htmlFor:"invoiceFinal",children:"Invoice Final"}),o.jsx("input",{type:"radio",id:"kwitansiDP",name:"docType",value:"kwitansiDP",checked:"kwitansiDP"===t,onChange:c}),o.jsx("label",{htmlFor:"kwitansiDP",children:"Kwitansi DP"}),o.jsx("input",{type:"radio",id:"kwitansiFinal",name:"docType",value:"kwitansiFinal",checked:"kwitansiFinal"===t,onChange:c}),o.jsx("label",{htmlFor:"kwitansiFinal",children:"Kwitansi Final"})]})]}),o.jsx("div",{className:l().subtitle,children:"Template Proposal Survey"}),o.jsx("img",{src:"/images/proposal_preview.png",alt:"Template Preview",className:l().image}),(0,o.jsxs)("div",{className:l().buttonGroup,children:[o.jsx("button",{type:"button",onClick:()=>{s(!i)},className:l().uploadButton,children:"Upload Template Baru"}),(0,o.jsxs)("button",{type:"button",className:l().exportButton,onClick:u,children:[o.jsx("img",{src:"/images/AddItem.svg",alt:"Export Icon"}),"Export"]})]}),o.jsx("div",{children:i&&(0,o.jsxs)("div",{className:l().uploadContainer,onDrop:e=>{e.preventDefault();let t=e.dataTransfer.files[0];t&&t.name.endsWith(".ppt")?d(t):alert("Only .ppt files are allowed.")},onDragOver:e=>{e.preventDefault()},children:[(0,o.jsxs)("label",{className:l().fileInputLabel,htmlFor:"fileInput",children:[o.jsx("img",{src:"/images/upload_icon.svg",alt:"Upload Icon",className:l().uploadIcon}),o.jsx("p",{children:"Unggah Dokumen"}),o.jsx("p",{className:l().uploadSubtitle,children:"Format file: .ppt"})]}),o.jsx("input",{type:"file",id:"fileInput",accept:".ppt",onChange:e=>{let t=e.target.files[0];t&&t.name.endsWith(".ppt")?d(t):alert("Only .ppt files are allowed.")},className:l().fileInput}),p&&(0,o.jsxs)("p",{children:["Selected file: ",p.name]}),o.jsx("button",{type:"button",onClick:m,className:l().uploadConfirmButton,children:"Upload"})]})})]})}),o.jsx("div",{className:l().footer,children:"@2024 optimasys | Contact optimasys.work@gmail.com"})]})}},498:e=>{e.exports={containerbackground:"generator-dokumen_containerbackground__FEzrU",container:"generator-dokumen_container__8j_qO",sidebar:"generator-dokumen_sidebar__u5qSZ",logo:"generator-dokumen_logo__qBrkw",icon:"generator-dokumen_icon___xo4c",nav:"generator-dokumen_nav__EmhF8",active:"generator-dokumen_active__TJZCN",logout:"generator-dokumen_logout__pLyqY",content:"generator-dokumen_content__cI__R",title:"generator-dokumen_title__jKNIU",subtitle:"generator-dokumen_subtitle__l1fPS",label:"generator-dokumen_label__sOjMv",form:"generator-dokumen_form__jya9Y",docType:"generator-dokumen_docType__PDR2H",exportSection:"generator-dokumen_exportSection__Q7w0R",radioGroup:"generator-dokumen_radioGroup__rCw8O",inputGroup:"generator-dokumen_inputGroup__Luvar",inputRow:"generator-dokumen_inputRow__3GpcW",nominalContainer:"generator-dokumen_nominalContainer__mdFn2",percentageContainer:"generator-dokumen_percentageContainer__HEG8s",nominalInput:"generator-dokumen_nominalInput__BhKTj",percentageInput:"generator-dokumen_percentageInput__zEMyN",datePicker:"generator-dokumen_datePicker__WXM_b",buttonGroup:"generator-dokumen_buttonGroup__wHz_0",submitButton:"generator-dokumen_submitButton__kDxe0",cancelButton:"generator-dokumen_cancelButton__MuCvK",exportButton:"generator-dokumen_exportButton__l0xMg",uploadButton:"generator-dokumen_uploadButton__e55iU",uploadConfirmButton:"generator-dokumen_uploadConfirmButton__D166G",image:"generator-dokumen_image__ZlmSn",kontrakImage:"generator-dokumen_kontrakImage__raqbj",footer:"generator-dokumen_footer__cnKQT",uploadContainer:"generator-dokumen_uploadContainer__P9Niw",uploadSubtitle:"generator-dokumen_uploadSubtitle__csQdM",fileInputLabel:"generator-dokumen_fileInputLabel__tCgH7",fileInput:"generator-dokumen_fileInput__KICVO"}},5105:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});let o=(0,a(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\generator-dokumen\proposal\page.js#default`)},3881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var o=a(4564);let n=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,o.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),o=t.X(0,[379,354,564,384],()=>a(7524));module.exports=o})();