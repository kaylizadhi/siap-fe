(()=>{var e={};e.id=929,e.ids=[929],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7420:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>d}),a(3887),a(6765),a(996);var n=a(170),o=a(5002),r=a(3876),i=a.n(r),l=a(6299),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);a.d(t,s);let d=["",{children:["generator-dokumen",{children:["kontrak",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3887)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\generator-dokumen\\kontrak\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\generator-dokumen\\kontrak\\page.js"],u="/generator-dokumen/kontrak/page",c={require:a,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/generator-dokumen/kontrak/page",pathname:"/generator-dokumen/kontrak",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2994:(e,t,a)=>{Promise.resolve().then(a.bind(a,3553))},3553:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(7247),o=a(8964),r=a(4178),i=a(498),l=a.n(i);let s=()=>{let e=(0,r.useRouter)(),[t,a]=(0,o.useState)(""),[i,s]=(0,o.useState)(!1),[d,p]=(0,o.useState)(null);(0,o.useEffect)(()=>{let t=async()=>{let e=await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/convert_pptx_to_image/");if(e.ok){let t=await e.blob();setSlideImage(URL.createObjectURL(t))}else console.error("Failed to load slide image.")};(async()=>{let t=localStorage.getItem("authToken");if(!t){e.push("/login");return}try{let a=await fetch("https://siap-be-production.up.railway.app/api/accounts/check_role_proposal/",{headers:{Authorization:`Token ${t}`}}),n=await a.json();(n.error||"Administrasi"!==n.role&&"Eksekutif"!==n.role)&&e.push("/login")}catch(t){console.error("Failed to verify role:",t),e.push("/login")}})(),t()},[e]);let u=async()=>{try{let e=await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/download_template_kontrak/",{method:"GET"});if(!e.ok)throw Error("Failed to download the template");let t=await e.blob(),a=window.URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="templateKontrak.docx",document.body.appendChild(n),n.click(),n.remove()}catch(e){console.error("Error downloading template:",e)}},c=t=>{let n=t.target.value;a(n),"invoiceDP"===n&&e.push("/generator-dokumen/invoice-dp"),"invoiceFinal"===n&&e.push("/generator-dokumen/invoice-final"),"proposal"===n&&e.push("/generator-dokumen/proposal"),"kwitansiDP"===n&&e.push("/generator-dokumen/kwitansi-dp"),"kwitansiFinal"===n&&e.push("/generator-dokumen/kwitansi-final")},m=async()=>{if(!d){alert("Please select a file to upload.");return}if(window.confirm("Apakah anda yakin ingin mengubah template kontrak pada sistem?")&&d){let e=new FormData;e.append("template",d);try{let t=localStorage.getItem("authToken");if(!(await fetch("https://siap-be-production.up.railway.app/api/dokumen_pendukung/upload_template_kontrak/",{method:"POST",headers:{Authorization:`Token ${t}`},body:e})).ok)throw Error("Failed to upload the template");alert("Template uploaded successfully!"),s(!i),p()}catch(e){console.error("Error uploading template:",e),alert("Error uploading template")}}};return(0,n.jsxs)("div",{className:l().containerbackground,children:[n.jsx("div",{className:l().container,children:(0,n.jsxs)("div",{className:l().content,children:[n.jsx("h1",{className:l().title,children:"Buat Dokumen"}),(0,n.jsxs)("div",{className:l().docType,children:[n.jsx("label",{className:l().label,children:"Jenis Dokumen"}),(0,n.jsxs)("div",{className:l().radioGroup,children:[n.jsx("input",{type:"radio",id:"Proposal",name:"docType",value:"proposal",checked:"proposal"===t,onChange:c}),n.jsx("label",{htmlFor:"proposal",children:"Proposal"}),n.jsx("input",{type:"radio",id:"kontrak",name:"docType",value:"kontrak",checked:!0,readOnly:!0}),n.jsx("label",{htmlFor:"kontrak",children:"Kontrak"}),n.jsx("input",{type:"radio",id:"invoiceDP",name:"docType",value:"invoiceDP",checked:"invoiceDP"===t,onChange:c}),n.jsx("label",{htmlFor:"invoiceDP",children:"Invoice DP"}),n.jsx("input",{type:"radio",id:"invoiceFinal",name:"docType",value:"invoiceFinal",checked:"invoiceFinal"===t,onChange:c}),n.jsx("label",{htmlFor:"invoiceFinal",children:"Invoice Final"}),n.jsx("input",{type:"radio",id:"kwitansiDP",name:"docType",value:"kwitansiDP",checked:"kwitansiDP"===t,onChange:c}),n.jsx("label",{htmlFor:"kwitansiDP",children:"Kwitansi DP"}),n.jsx("input",{type:"radio",id:"kwitansiFinal",name:"docType",value:"kwitansiFinal",checked:"kwitansiFinal"===t,onChange:c}),n.jsx("label",{htmlFor:"kwitansiFinal",children:"Kwitansi Final"})]})]}),n.jsx("div",{className:l().subtitle,children:"Template Kontrak Survey"}),n.jsx("img",{src:"/images/kontrak_preview.png",alt:"Template Preview",className:l().kontrakImage}),(0,n.jsxs)("div",{className:l().buttonGroup,children:[n.jsx("button",{type:"button",onClick:()=>{s(!i)},className:l().uploadButton,children:"Upload Template Baru"}),(0,n.jsxs)("button",{type:"button",className:l().exportButton,onClick:u,children:[n.jsx("img",{src:"/images/AddItem.svg",alt:"Export Icon"}),"Export"]})]}),n.jsx("div",{children:i&&(0,n.jsxs)("div",{className:l().uploadContainer,onDrop:e=>{e.preventDefault();let t=e.dataTransfer.files[0];t&&t.name.endsWith(".docx")?p(t):alert("Only .docx files are allowed.")},onDragOver:e=>{e.preventDefault()},children:[(0,n.jsxs)("label",{className:l().fileInputLabel,htmlFor:"fileInput",children:[n.jsx("img",{src:"/images/upload_icon.svg",alt:"Upload Icon",className:l().uploadIcon}),n.jsx("p",{children:"Unggah Dokumen"}),n.jsx("p",{className:l().uploadSubtitle,children:"Format file: .docx"})]}),n.jsx("input",{type:"file",id:"fileInput",accept:".docx",onChange:e=>{let t=e.target.files[0];t&&t.name.endsWith(".docx")?p(t):alert("Only .docx files are allowed.")},className:l().fileInput}),d&&(0,n.jsxs)("p",{children:["Selected file: ",d.name]}),n.jsx("button",{type:"button",onClick:m,className:l().uploadConfirmButton,children:"Upload"})]})})]})}),n.jsx("div",{className:l().footer,children:"@2024 optimasys | Contact optimasys.work@gmail.com"})]})}},498:e=>{e.exports={containerbackground:"generator-dokumen_containerbackground__FEzrU",container:"generator-dokumen_container__8j_qO",sidebar:"generator-dokumen_sidebar__u5qSZ",logo:"generator-dokumen_logo__qBrkw",icon:"generator-dokumen_icon___xo4c",nav:"generator-dokumen_nav__EmhF8",active:"generator-dokumen_active__TJZCN",logout:"generator-dokumen_logout__pLyqY",content:"generator-dokumen_content__cI__R",title:"generator-dokumen_title__jKNIU",subtitle:"generator-dokumen_subtitle__l1fPS",label:"generator-dokumen_label__sOjMv",form:"generator-dokumen_form__jya9Y",docType:"generator-dokumen_docType__PDR2H",exportSection:"generator-dokumen_exportSection__Q7w0R",radioGroup:"generator-dokumen_radioGroup__rCw8O",inputGroup:"generator-dokumen_inputGroup__Luvar",inputRow:"generator-dokumen_inputRow__3GpcW",nominalContainer:"generator-dokumen_nominalContainer__mdFn2",percentageContainer:"generator-dokumen_percentageContainer__HEG8s",nominalInput:"generator-dokumen_nominalInput__BhKTj",percentageInput:"generator-dokumen_percentageInput__zEMyN",datePicker:"generator-dokumen_datePicker__WXM_b",buttonGroup:"generator-dokumen_buttonGroup__wHz_0",submitButton:"generator-dokumen_submitButton__kDxe0",cancelButton:"generator-dokumen_cancelButton__MuCvK",exportButton:"generator-dokumen_exportButton__l0xMg",uploadButton:"generator-dokumen_uploadButton__e55iU",uploadConfirmButton:"generator-dokumen_uploadConfirmButton__D166G",image:"generator-dokumen_image__ZlmSn",kontrakImage:"generator-dokumen_kontrakImage__raqbj",footer:"generator-dokumen_footer__cnKQT",uploadContainer:"generator-dokumen_uploadContainer__P9Niw",uploadSubtitle:"generator-dokumen_uploadSubtitle__csQdM",fileInputLabel:"generator-dokumen_fileInputLabel__tCgH7",fileInput:"generator-dokumen_fileInput__KICVO"}},3887:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});let n=(0,a(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\generator-dokumen\kontrak\page.js#default`)},3881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(4564);let o=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[379,354,564,384],()=>a(7420));module.exports=n})();