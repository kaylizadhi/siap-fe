(()=>{var e={};e.id=99,e.ids=[99],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6507:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>p}),a(7898),a(6765),a(996);var t=a(170),i=a(5002),r=a(3876),n=a.n(r),o=a(6299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(s,l);let p=["",{children:["profil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7898)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\profil\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\profil\\page.js"],c="/profil/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profil/page",pathname:"/profil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},2593:(e,s,a)=>{Promise.resolve().then(a.bind(a,2414))},2414:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var t=a(7247),i=a(6038),r=a.n(i),n=a(8964),o=a(4178);function l(){let e=(0,o.useRouter)(),[s,a]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[p,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[_,g]=(0,n.useState)(""),[j,v]=(0,n.useState)(""),[y,b]=(0,n.useState)(null),[w,N]=(0,n.useState)(!1),[P,k]=(0,n.useState)(!1),[C,S]=(0,n.useState)(""),[E,G]=(0,n.useState)(""),[D,T]=(0,n.useState)(""),q=async e=>{e.preventDefault();let s=_.split(" "),a=s[0]||"",t=s.slice(1).join(" ")||"",i=localStorage.getItem("authToken");try{if(!(await fetch("https://siap-be-production.up.railway.app/api/profil/",{method:"PATCH",headers:{Authorization:`Token ${i}`,"Content-Type":"application/json"},body:JSON.stringify({first_name:a,last_name:t,email:c,username:j})})).ok)throw Error("Failed to update profile");if(C&&E){let e=await fetch("https://siap-be-production.up.railway.app/api/change-password/",{method:"PATCH",headers:{Authorization:`Token ${i}`,"Content-Type":"application/json"},body:JSON.stringify({old_password:C,new_password:E})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to update password")}alert("Password changed successfully")}else alert("Profile updated successfully")}catch(e){alert(e.message)}};return y?(0,t.jsxs)("div",{children:["Error: ",y]}):(0,t.jsxs)("div",{className:r().containerbackground,children:[t.jsx("div",{className:r().container,children:(0,t.jsxs)("div",{className:r().content,children:[(0,t.jsxs)("h1",{className:r().title,children:["Profil ",m]}),t.jsx("h2",{className:r().roleHeader,children:D}),(0,t.jsxs)("form",{className:r().form,onSubmit:q,children:[(0,t.jsxs)("div",{className:r().fieldGroup,children:[t.jsx("label",{children:"Email"}),t.jsx("input",{type:"email",value:c,onChange:e=>u(e.target.value),disabled:!s,className:s?"":r().disabledInput}),t.jsx("span",{className:r().icon,onClick:()=>a(!s),children:t.jsx("img",{src:"/images/Edit.svg",alt:"Edit"})})]}),(0,t.jsxs)("div",{className:r().fieldGroup,children:[t.jsx("label",{children:"Nama"}),t.jsx("input",{type:"text",value:_,onChange:e=>g(e.target.value),disabled:!i,className:i?"":r().disabledInput}),t.jsx("span",{className:r().icon,onClick:()=>l(!i),children:t.jsx("img",{src:"/images/Edit.svg",alt:"Edit"})})]}),(0,t.jsxs)("div",{className:r().fieldGroup,children:[t.jsx("label",{children:"Username"}),t.jsx("input",{type:"text",value:j,onChange:e=>v(e.target.value),disabled:!p,className:p?"":r().disabledInput}),t.jsx("span",{className:r().icon,onClick:()=>d(!p),children:t.jsx("img",{src:"/images/Edit.svg",alt:"Edit"})})]}),(0,t.jsxs)("div",{className:r().passwordFields,children:[(0,t.jsxs)("div",{className:r().fieldGroup,children:[t.jsx("label",{children:"Password Lama"}),t.jsx("input",{type:w?"text":"password",value:C,onChange:e=>S(e.target.value),placeholder:"********"}),t.jsx("span",{className:r().icon,onClick:()=>N(!w),children:t.jsx("img",{src:"/images/eye-icon.png",alt:"Toggle Password Visibility"})})]}),(0,t.jsxs)("div",{className:r().fieldGroup,children:[t.jsx("label",{children:"Password Baru"}),t.jsx("input",{type:P?"text":"password",value:E,onChange:e=>G(e.target.value),placeholder:"********"}),t.jsx("span",{className:r().icon,onClick:()=>k(!P),children:t.jsx("img",{src:"/images/eye-icon.png",alt:"Toggle New Password Visibility"})})]})]}),(0,t.jsxs)("div",{className:r().buttons,children:[t.jsx("button",{type:"submit",className:r().saveButton,children:"Simpan"}),t.jsx("button",{type:"button",className:r().cancelButton,onClick:()=>e.push("/dashboard"),children:"Batal"})]})]})]})}),t.jsx("div",{className:r().footer,children:"@2024 optimasys | Contact optimasys.work@gmail.com"})]})}},6038:e=>{e.exports={containerbackground:"profil_containerbackground__sxNM4",container:"profil_container__Vn0XF",roleHeader:"profil_roleHeader__O8wB2",content:"profil_content__QkUzx",title:"profil_title__V1XF6",form:"profil_form__kDa7l",fieldGroup:"profil_fieldGroup__wC5nk",icon:"profil_icon__Sx7aP",disabledInput:"profil_disabledInput__00Y1S",passwordFields:"profil_passwordFields___udEH",buttons:"profil_buttons__1hyC_",saveButton:"profil_saveButton__JV7pd",cancelButton:"profil_cancelButton__wr9TD",footer:"profil_footer__WctUp"}},7898:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\profil\page.js#default`)},3881:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(4564);let i=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[379,354,564,384],()=>a(6507));module.exports=t})();