(()=>{var e={};e.id=781,e.ids=[781],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6541:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,originalPathname:()=>l,pages:()=>u,routeModule:()=>g,tree:()=>d}),r(3207),r(6765),r(996);var s=r(170),a=r(5002),o=r(3876),n=r.n(o),i=r(6299),p={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(p[e]=()=>i[e]);r.d(t,p);let d=["",{children:["forgot-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3207)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\forgot-password\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\forgot-password\\page.js"],l="/forgot-password/page",c={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/forgot-password/page",pathname:"/forgot-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7412:(e,t,r)=>{Promise.resolve().then(r.bind(r,3621))},3621:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(7247),a=r(8964),o=r(4178),n=r(7574),i=r.n(n);function p(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)(""),[n,p]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[g,f]=(0,a.useState)(1),[h,m]=(0,a.useState)(""),w=async()=>{try{let e=await fetch("https://siap-be-production.up.railway.app/api/get-security-question/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})}),r=await e.json();e.ok?(p(r.security_question),f(2)):m(r.error||"User not found")}catch(e){m("Unable to fetch security question")}},y=async()=>{try{let r=await fetch("https://siap-be-production.up.railway.app/api/verify-security-answer/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,security_answer:d,new_password:l})});if(!r.ok){let e=await r.json();m(e.error||"Incorrect security answer");return}alert("Password reset successful!"),e.push("/login")}catch(e){m("Failed to reset password")}};return s.jsx("div",{className:i().forgotPasswordBody,children:(0,s.jsxs)("div",{className:i().forgotPasswordContainer,children:[s.jsx("h2",{className:i().heading,children:"Forgot Password"}),1===g&&(0,s.jsxs)("div",{children:[s.jsx("h3",{children:"Username"}),s.jsx("input",{type:"text",className:i().Input,placeholder:"Masukkan username",value:t,onChange:e=>r(e.target.value),required:!0}),s.jsx("button",{onClick:w,className:i().Button,children:"Get Security Question"})]}),2===g&&(0,s.jsxs)("div",{children:[s.jsx("h3",{children:"Answer Security Question"}),s.jsx("p",{children:n}),s.jsx("input",{type:"text",className:i().Input,placeholder:"Masukkan jawaban",value:d,onChange:e=>u(e.target.value),required:!0}),s.jsx("input",{type:"password",className:i().Input,placeholder:"Masukkan password baru",value:l,onChange:e=>c(e.target.value),required:!0}),s.jsx("button",{onClick:y,className:i().Button,children:"Reset Password"})]}),h&&s.jsx("p",{className:i().error,children:h}),s.jsx("footer",{className:i().footer,children:s.jsx("p",{children:"@2024 optimasys | Contact optimasys.work@gmail.com"})})]})})}},7574:e=>{e.exports={forgotPasswordBody:"forgot-password_forgotPasswordBody__qdukc",forgotPasswordContainer:"forgot-password_forgotPasswordContainer__mB6Bp",heading:"forgot-password_heading__gz3bP",Button:"forgot-password_Button__q0ts2",Input:"forgot-password_Input__n29E1",error:"forgot-password_error__7zIr7",footer:"forgot-password_footer__17W3d"}},3207:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\forgot-password\page.js#default`)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4564);let a=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,354,564,384],()=>r(6541));module.exports=s})();