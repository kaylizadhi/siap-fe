(()=>{var e={};e.id=184,e.ids=[184],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},699:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o}),t(1075),t(6765),t(996);var s=t(170),n=t(5002),r=t(3876),i=t.n(r),u=t(6299),l={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>u[e]);t.d(a,l);let o=["",{children:["buat-akun",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1075)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\buat-akun\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\buat-akun\\page.js"],p="/buat-akun/page",d={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/buat-akun/page",pathname:"/buat-akun",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8563:(e,a,t)=>{Promise.resolve().then(t.bind(t,8774))},8774:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var s=t(7247),n=t(8964),r=t(4178),i=t(9502),u=t.n(i);function l(){let[e,a]=(0,n.useState)(""),[t,i]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),[c,p]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),[b,h]=(0,n.useState)(""),[_,k]=(0,n.useState)(""),[g,x]=(0,n.useState)(!1),[j,v]=(0,n.useState)(null),[y,f]=(0,n.useState)(!1),[C,N]=(0,n.useState)(!1),P=(0,r.useRouter)(),w=async a=>{a.preventDefault(),v(null);let s=t.split(" "),n=s[0]||"",r=s.slice(1).join(" ")||"";if(!e||!t||!l||!_||!c||!d||!b){v("Semua field harus diisi!"),N(!0),setTimeout(()=>N(!1),3e3);return}if(!/\d/.test(b)){v("Password harus mengandung angka!"),N(!0),setTimeout(()=>N(!1),3e3);return}try{let a=await fetch("https://siap-be-production.up.railway.app/api/buatAkun/api/buatAkun/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:n,last_name:r,email:l,username:e,role:_,security_question:c,security_answer:d,password:b})});if(console.log("Response received:",a),!a.ok)throw Error("Failed to make document");f(!0),N(!0),setTimeout(()=>{N(!1),P.push("/dashboard")},1e3)}catch(e){console.error(e),v("Gagal membuat akun. Coba lagi."),N(!0),setTimeout(()=>N(!1),3e3)}};return s.jsx("div",{className:u().buatakunBody,children:(0,s.jsxs)("div",{className:u().buatakunContainer,children:[s.jsx("h2",{className:u().buatakunHeading,children:"Buat Akun"}),(0,s.jsxs)("form",{onSubmit:w,children:[s.jsx("label",{className:u().label,children:"Username"}),s.jsx("input",{className:u().input,type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Masukkan Username",required:!0}),s.jsx("label",{className:u().label,children:"Name"}),s.jsx("input",{className:u().input,type:"text",value:t,onChange:e=>i(e.target.value),placeholder:"Masukkan Nama",required:!0}),s.jsx("label",{className:u().label,children:"Email"}),s.jsx("input",{className:u().input,type:"email",value:l,onChange:e=>o(e.target.value),placeholder:"Masukkan Email",required:!0}),s.jsx("label",{className:u().label,children:"Role"}),(0,s.jsxs)("select",{className:u().input,value:_,onChange:e=>k(e.target.value),required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Pilih Role"}),s.jsx("option",{value:"Eksekutif",children:"Eksekutif"}),s.jsx("option",{value:"Administrasi",children:"Administrasi"}),s.jsx("option",{value:"Admin Sistem",children:"Admin Sistem"}),s.jsx("option",{value:"Logistik",children:"Logistik"}),s.jsx("option",{value:"Pengendali Mutu",children:"Pengendali Mutu"})]}),s.jsx("label",{className:u().label,children:"Security Question"}),s.jsx("input",{className:u().input,type:"text",value:c,onChange:e=>p(e.target.value),placeholder:"Buat Security Question",required:!0}),s.jsx("label",{className:u().label,children:"Security Answer"}),s.jsx("input",{className:u().input,type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Buat Jawaban dari Security Question",required:!0}),s.jsx("label",{className:u().label,children:"Password"}),(0,s.jsxs)("div",{className:u().passwordContainer,children:[s.jsx("input",{className:u().input,type:g?"text":"password",value:b,onChange:e=>h(e.target.value),placeholder:"Masukkan Password",required:!0}),s.jsx("button",{type:"button",className:u().togglePassword,onClick:()=>x(!g),children:s.jsx("img",{src:"/eye-icon.png",alt:"Toggle Password Visibility"})})]}),j&&s.jsx("p",{className:u().error,children:j}),s.jsx("button",{type:"submit",className:u().simpanBtn,children:"Simpan"}),s.jsx("button",{type:"button",className:u().batalBtn,onClick:()=>{a(""),i(""),o(""),p(""),m(""),h(""),k("")},children:"Batal"})]}),C&&s.jsx("div",{className:`${u().notification} ${y?u().success:u().failure}`,children:y?(0,s.jsxs)("div",{children:[s.jsx("img",{src:"/success-icon.png",alt:"Success Icon"}),s.jsx("p",{children:"Berhasil Membuat Akun!"}),s.jsx("button",{onClick:()=>N(!1),children:"OK"})]}):(0,s.jsxs)("div",{children:[s.jsx("img",{src:"/error-icon.png",alt:"Error Icon"}),s.jsx("p",{children:j}),s.jsx("button",{onClick:()=>N(!1),children:"Coba lagi"})]})}),s.jsx("div",{className:u().footer,children:"@2024 optimasys | Contact optimasys.work@gmail.com"})]})})}},9502:e=>{e.exports={buatakunBody:"buat-akun_buatakunBody__oWIZQ",buatakunContainer:"buat-akun_buatakunContainer__KzFb7",buatakunHeaderContainer:"buat-akun_buatakunHeaderContainer__Kp9Lg",logo:"buat-akun_logo__b4hfH",buatkunHeading:"buat-akun_buatkunHeading___VXso",label:"buat-akun_label__pHHMb",input:"buat-akun_input__GHlS3",passwordContainer:"buat-akun_passwordContainer__6TLfd",togglePassword:"buat-akun_togglePassword__UZUoT",error:"buat-akun_error__8rLTu",rememberForgot:"buat-akun_rememberForgot__T9KAk",simpanBtn:"buat-akun_simpanBtn__LM5NR",batalBtn:"buat-akun_batalBtn__4_Iy9",notification:"buat-akun_notification__tX2a2",success:"buat-akun_success__ZRA0V",failure:"buat-akun_failure__XXuUD",footer:"buat-akun_footer__1ue3Z"}},1075:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\buat-akun\page.js#default`)},3881:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(4564);let n=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[379,354,564,384],()=>t(699));module.exports=s})();