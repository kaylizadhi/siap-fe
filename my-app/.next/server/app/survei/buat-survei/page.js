(()=>{var e={};e.id=972,e.ids=[972],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6878:(e,a,i)=>{"use strict";i.r(a),i.d(a,{GlobalError:()=>n.a,__next_app__:()=>c,originalPathname:()=>p,pages:()=>d,routeModule:()=>v,tree:()=>o}),i(3889),i(6765),i(996);var t=i(170),r=i(5002),s=i(3876),n=i.n(s),u=i(6299),l={};for(let e in u)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>u[e]);i.d(a,l);let o=["",{children:["survei",{children:["buat-survei",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,3889)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\survei\\buat-survei\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\survei\\buat-survei\\page.js"],p="/survei/buat-survei/page",c={require:i,loadChunk:()=>Promise.resolve()},v=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/survei/buat-survei/page",pathname:"/survei/buat-survei",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},143:(e,a,i)=>{Promise.resolve().then(i.bind(i,5455))},5455:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>o});var t=i(7247),r=i(8964),s=i(4178),n=i(4014),u=i.n(n),l=i(9858);function o(){let[e,a]=(0,r.useState)({}),[i,n]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),p=(0,s.useRouter)(),[c,v]=(0,r.useState)([]),h=async e=>{try{let a=await fetch(`https://siap-be-production.up.railway.app/api/survei/lokasi?param=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await a.json();d(i)}catch(e){console.error("Error fetching daerah:",e),d([])}},m=i=>{let t=i.target.value;a({...e,ruang_lingkup:t}),h(t)},_=e=>{v(c.filter(a=>a.id!==e))},x=async()=>{if(!e.nama_survei){alert("Judul survei tidak boleh kosong.");return}if(!e.harga_survei||isNaN(e.harga_survei)){alert("Harga survei tidak boleh kosong.");return}if(!e.jumlah_responden||isNaN(e.jumlah_responden)){alert("Jumlah responden tidak boleh kosong.");return}try{let a={...e,wilayah_survei:c},i=await fetch("https://siap-be-production.up.railway.app/api/survei/add-survei/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await i.json();t?.success&&p.push("/survei")}catch(e){console.error("Error submitting survei:",e),p.push("/survei")}};return(0,t.jsxs)("div",{children:[t.jsx("b",{className:u().headingSurvei,children:"Daftar Survei"}),(0,t.jsxs)("form",{onSubmit:x,className:u().containerSurvei,children:[t.jsx("b",{className:u().textFieldTitleSurvei,children:"Nama Survei"}),t.jsx("input",{className:u().textFieldSurvei,type:"text",placeholder:"Masukkan judul survei",onChange:i=>a({...e,nama_survei:i.target.value})}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Nama Klien"}),t.jsx("select",{className:u().textFieldSurveiDropdown,onChange:i=>a({...e,klien_id:i.target.value}),children:i.length>0?i.map(e=>t.jsx("option",{value:e.id,children:e.nama_klien},e.id)):t.jsx("option",{disabled:!0,children:"Data klien tidak tersedia"})}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Ruang Lingkup Survei"}),t.jsx("div",{className:u().radioGroupSurvei,children:["Nasional","Provinsi","Kota"].map(e=>(0,t.jsxs)("label",{children:[t.jsx("input",{type:"radio",name:"ruanglingkup",value:e,onChange:m}),e]},e))}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Daerah"}),t.jsx("ul",{className:u().daerahList,children:c.map(e=>(0,t.jsxs)("li",{className:u().daerahList,children:[e.name,t.jsx("button",{style:{marginLeft:"10px"},onClick:()=>_(e.id),children:"Hapus"})]},e.id))}),(0,t.jsxs)("select",{id:"daerahSelect",className:u().textFieldSurveiDropdown,children:[t.jsx("option",{value:"",children:"Pilih Daerah"}),o.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]}),t.jsx(l.Z,{className:u().iconEdit,onClick:()=>{let e=document.getElementById("daerahSelect"),a=e.value,i=e.options[e.selectedIndex].text;a?c.some(e=>e.id===a)?alert(`${i} sudah ada dalam daftar.`):v([...c,{id:a,name:i}]):alert("Pilih daerah terlebih dahulu.")}}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Harga"}),t.jsx("input",{className:u().textFieldSurvei,type:"number",placeholder:"Masukkan harga",onChange:i=>a({...e,harga_survei:i.target.value})}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Jumlah Responden"}),t.jsx("input",{className:u().textFieldSurvei,type:"number",placeholder:"Masukkan jumlah responden",onChange:i=>a({...e,jumlah_responden:i.target.value})}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Tanggal Mulai"}),t.jsx("input",{min:new Date().toISOString().split("T")[0],className:u().textFieldSurvei,type:"date",onChange:i=>a({...e,waktu_mulai_survei:i.target.value})}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Tanggal Berakhir"}),t.jsx("input",{min:new Date().toISOString().split("T")[0],className:u().textFieldSurvei,type:"date",onChange:i=>a({...e,waktu_berakhir_survei:i.target.value})}),t.jsx("b",{className:u().textFieldTitleSurvei,children:"Tipe Survei"}),(0,t.jsxs)("select",{className:u().textFieldSurveiDropdown,onChange:i=>a({...e,tipe_survei:i.target.value}),children:[t.jsx("option",{value:"Paper-based",children:"Paper-based"}),t.jsx("option",{value:"Digital",children:"Digital"}),t.jsx("option",{value:"Lainnya",children:"Lainnya"})]}),t.jsx("button",{type:"submit",className:u().primaryButtonSurvei,children:"Simpan"}),t.jsx("button",{type:"button",onClick:()=>{p.push("/survei")},className:u().secondaryButtonSurvei,children:"Batal"})]})]})}},4014:e=>{e.exports={headingSurvei:"survei_headingSurvei__hWzo8",buttonTambahSurvei:"survei_buttonTambahSurvei__gJe_e",iconChevron:"survei_iconChevron__FydQC",buttonEnabledSebelumnya:"survei_buttonEnabledSebelumnya__Cz3nY",buttonDisabledSebelumnya:"survei_buttonDisabledSebelumnya__gqkct",buttonEnabledSelanjutnya:"survei_buttonEnabledSelanjutnya__oqIC6",buttonDisabledSelanjutnya:"survei_buttonDisabledSelanjutnya__2WOb3",buttonSurvei:"survei_buttonSurvei__hdXsX",iconSurvei:"survei_iconSurvei__uE6hZ",tableContainerSurvei:"survei_tableContainerSurvei__DWZrT",containerSurvei:"survei_containerSurvei__htfRQ",textFieldSurvei:"survei_textFieldSurvei__UJ9hf",textFieldSurveiDropdown:"survei_textFieldSurveiDropdown__Gy6zJ",textFieldTitleSurvei:"survei_textFieldTitleSurvei__Wb5nm",primaryButtonSurvei:"survei_primaryButtonSurvei__jrQF0",secondaryButtonSurvei:"survei_secondaryButtonSurvei__ZwVxE",searchBarContainer:"survei_searchBarContainer__ZnWTU",iconSearch:"survei_iconSearch__ySMWd",searchBar:"survei_searchBar__RDH9p",idContainer:"survei_idContainer__G8hnp",radioGroupSurvei:"survei_radioGroupSurvei__NNY3u",iconEdit:"survei_iconEdit__U5F8i",daerahList:"survei_daerahList__7Yweb"}},3889:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>t});let t=(0,i(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\survei\buat-survei\page.js#default`)},3881:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>r});var t=i(4564);let r=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},9858:(e,a,i)=>{"use strict";i.d(a,{Z:()=>r});var t=i(8964);let r=t.forwardRef(function({title:e,titleId:a,...i},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},i),e?t.createElement("title",{id:a},e):null,t.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))})}};var a=require("../../../webpack-runtime.js");a.C(e);var i=e=>a(a.s=e),t=a.X(0,[379,354,564,384],()=>i(6878));module.exports=t})();