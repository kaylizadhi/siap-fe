(()=>{var e={};e.id=248,e.ids=[248],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},1347:e=>{e.exports={style:{fontFamily:"'__Caudex_ebaa45', '__Caudex_Fallback_ebaa45'",fontWeight:700,fontStyle:"normal"},className:"__className_ebaa45"}},793:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(4153),r(6765),r(996);var a=r(170),s=r(5002),i=r(3876),n=r.n(i),l=r(6299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["tracker-survei",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4153)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\tracker-survei\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\tracker-survei\\page.js"],u="/tracker-survei/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/tracker-survei/page",pathname:"/tracker-survei",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1294:(e,t,r)=>{Promise.resolve().then(r.bind(r,1956))},6323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(8964);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...n,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:i("lucide",l),...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...n},o)=>(0,a.createElement)(l,{ref:o,iconNode:t,className:i(`lucide-${s(e)}`,r),...n}));return r.displayName=`${e}`,r}},457:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9256:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6323).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1956:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(7247),s=r(1347),i=r.n(s),n=r(8964);let l=(0,r(6323).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var o=r(9256),c=r(457),d=r(4178);let u=()=>{let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!0),[u,p]=(0,n.useState)(null),[m,x]=(0,n.useState)(""),[h,g]=(0,n.useState)(1),[v,y]=(0,n.useState)(1),[f,j]=(0,n.useState)(0),[b]=(0,n.useState)(10),k=(0,d.useRouter)(),N=async(e=1,r="")=>{let a=localStorage.getItem("authToken");s(!0);try{let s=`https://siap-be-production.up.railway.app/api/survei-status/?page=${e}&page_size=${b}`;r&&(s+=`&search=${encodeURIComponent(r)}`);let i=await fetch(s,{headers:{Authorization:a?`Token ${a}`:"","Content-Type":"application/json"}});if(!i.ok)throw Error(`HTTP error! status: ${i.status}`);let n=await i.json();t(n.results||[]),y(n.total_pages),g(n.current_page),j(n.count)}catch(e){console.error("Error fetching surveys:",e),p(e.message)}finally{s(!1)}};(0,n.useEffect)(()=>{N()},[]);let w=e=>{e>=1&&e<=v&&(g(e),N(e,m))};return((0,n.useEffect)(()=>{let e=setTimeout(()=>{g(1),N(1,m)},300);return()=>clearTimeout(e)},[m]),r&&!e.length)?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(l,{className:"h-8 w-8 animate-spin text-gray-500"})}):u?a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8 text-red-500",children:["Error: ",u]})}):(0,a.jsxs)("div",{className:`${i().className} p-6`,children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-[#B31312]",children:"Daftar Survei"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-2",children:["Total ",f," survei ",m&&"ditemukan"]})]})}),(0,a.jsxs)("div",{className:"relative w-full mb-6",children:[a.jsx("div",{className:"absolute inset-y-0 left-6 flex items-center pointer-events-none",children:a.jsx(o.Z,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Cari berdasarkan nama survei atau nama perusahaan...",className:`w-full pl-14 pr-6 py-3 rounded-full border-2 border-gray-200 outline-none bg-transparent text-gray-600 text-sm ${i().className} focus:border-[#B31312] transition-colors`,value:m,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 px-8 py-3 text-xs text-gray-500 uppercase font-medium bg-gray-50 rounded-t-lg",children:[a.jsx("div",{children:"Nama Survei"}),a.jsx("div",{children:"Nama Perusahaan"}),a.jsx("div",{children:"Action"})]}),a.jsx("div",{className:"space-y-3",children:0===e.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:m?"Tidak ada survei yang ditemukan":"Belum ada survei yang ditambahkan"}):e.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 px-8 py-3 bg-white rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200",children:[a.jsx("div",{className:"font-bold text-gray-700",children:e.nama_survei}),a.jsx("div",{className:"text-gray-500",children:e.nama_klien}),a.jsx("div",{children:a.jsx("button",{onClick:()=>k.push(`/tracker-survei/${e.id}`),className:"p-2 text-gray-800 hover:bg-gray-100 rounded-full transition-colors",title:"View Details",children:a.jsx(c.Z,{size:18})})})]},e.id))}),v>1&&(0,a.jsxs)("div",{className:"mt-6 flex justify-end items-center space-x-8 px-8",children:[(0,a.jsxs)("button",{onClick:()=>w(h-1),disabled:1===h,className:`flex items-center space-x-1 ${1===h?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:text-gray-500"}`,children:[a.jsx("span",{children:"<"}),a.jsx("span",{children:"Sebelumnya"})]}),(0,a.jsxs)("button",{onClick:()=>w(h+1),disabled:h===v,className:`flex items-center space-x-1 ${h===v?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:text-gray-500"}`,children:[a.jsx("span",{children:"Selanjutnya"}),a.jsx("span",{children:">"})]})]})]})}},4153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\tracker-survei\page.js#default`)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(4564);let s=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[379,354,564,384],()=>r(793));module.exports=a})();