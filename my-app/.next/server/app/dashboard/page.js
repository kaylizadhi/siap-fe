(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},5421:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(7739),r(6765),r(996);var t=r(170),s=r(5002),i=r(3876),n=r.n(i),o=r(6299),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(a,d);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7739)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\dashboard\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\dashboard\\page.js"],u="/dashboard/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5615:(e,a,r)=>{Promise.resolve().then(r.bind(r,2311))},2311:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>l});var t=r(7247),s=r(8964),i=r.n(s),n=r(4178),o=r(2869),d=r.n(o);r(9906);let l=()=>{let e=(0,n.useRouter)(),[a,r]=(0,s.useState)(0),[o,l]=(0,s.useState)(1),[c,u]=(0,s.useState)(""),[h,p]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{let a=localStorage.getItem("authToken");if(!a){e.push("/login");return}try{let r=await fetch("https://siap-be-production.up.railway.app/api/accounts/check_role_dashboard/",{headers:{Authorization:`Token ${a}`}}),t=await r.json();(t.error||!["Administrasi","Eksekutif","Logistik"].includes(t.role))&&e.push("/login")}catch(a){console.error("Failed to verify role:",a),e.push("/login")}})()},[e]);let m=e=>new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),_=a=>{let r=`/tracker-survei/${a}`;e.push(r)},v=a=>{let r=`/survei/${a}`;e.push(r)},x=a=>{let r=a.target.value;u(r),e.push({nasional:"/dashboard/nasional",provinsi:"/dashboard/provinsi",kota:"/dashboard/kota",keseluruhan:"/dashboard"}[r])};return(0,s.useEffect)(()=>{(async function(){try{let e=await fetch("https://siap-be-production.up.railway.app/api/survei-status/dashboard/",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");let a=await e.json();p(a),console.log(a)}catch(e){console.error("Failed to fetch data:",e)}})()},[o]),t.jsx("div",{className:d().containerBackground,children:t.jsx("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().content,children:[t.jsx("h1",{className:d().title,children:"Dashboard Progres Survei"}),(0,t.jsxs)("div",{className:d().surveyTypeSection,children:[t.jsx("label",{className:d().label,children:"Pilih Jenis Survei"}),t.jsx("div",{className:d().radioGroup,children:["keseluruhan","nasional","provinsi","kota"].map(e=>(0,t.jsxs)(i().Fragment,{children:[t.jsx("input",{type:"radio",id:e,name:"surveyType",value:e,checked:c===e,onChange:x}),(0,t.jsxs)("label",{htmlFor:e,children:["Survei ",e]})]},e))})]}),t.jsx("div",{className:d().tableContainer,children:(0,t.jsxs)("table",{className:d().table,children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:"Nama Klien"}),t.jsx("th",{children:"Judul Survei"}),t.jsx("th",{children:"Tanggal Mulai"}),t.jsx("th",{children:"Tanggal Berakhir"}),t.jsx("th",{children:"Wilayah"}),t.jsx("th",{children:"Jumlah Responden"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Action"})]})}),t.jsx("tbody",{children:h.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[t.jsx("img",{src:"/images/Profile.svg",alt:"User Icon",className:d().icon})," ",e.survei.nama_klien]}),t.jsx("td",{children:e.survei?.nama_survei}),t.jsx("td",{children:e.survei?.waktu_mulai_survei&&m(e.survei?.waktu_mulai_survei)}),t.jsx("td",{children:e.survei?.waktu_berakhir_survei&&m(e.survei?.waktu_berakhir_survei)}),t.jsx("td",{children:e.survei?.wilayah_survei}),t.jsx("td",{children:e.survei?.jumlah_responden}),t.jsx("td",{children:e.last_status}),(0,t.jsxs)("td",{className:d().actions,children:[t.jsx("button",{className:d().actionButton,onClick:()=>v(e.survei?.id),children:"Lihat Detail Survei"}),t.jsx("button",{className:d().actionButton,onClick:()=>_(e.survei?.id),children:"Lihat Tracker Survei"})]})]},e.survei.id))})]})})]})})})}},2869:e=>{e.exports={containerBackground:"dashboard_containerBackground___FMAG",container:"dashboard_container__UvVTH",content:"dashboard_content__SfbXD",title:"dashboard_title__S4EtT",label:"dashboard_label__SgCdD",diagramPlaceholder:"dashboard_diagramPlaceholder__183tN",chartContainer:"dashboard_chartContainer__c4zUU",tableContainer:"dashboard_tableContainer__ZnNcP",table:"dashboard_table__Tg8SY",badge:"dashboard_badge__nmimx",iconContainer:"dashboard_iconContainer__BgqBP",radioGroup:"dashboard_radioGroup__dMK_9",actionButton:"dashboard_actionButton__Zrwfx"}},7739:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});let t=(0,r(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\dashboard\page.js#default`)},3881:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});var t=r(4564);let s=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[379,354,564,384],()=>r(5421));module.exports=t})();