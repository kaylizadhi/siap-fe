(()=>{var e={};e.id=923,e.ids=[923],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6095:e=>{e.exports={style:{fontFamily:"'__Caudex_ebaa45', '__Caudex_Fallback_ebaa45'",fontWeight:700,fontStyle:"normal"},className:"__className_ebaa45"}},5658:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(6012),t(6765),t(996);var r=t(170),s=t(5002),i=t(3876),l=t.n(i),n=t(6299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(a,o);let d=["",{children:["list-klien",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6012)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\list-klien\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\list-klien\\page.js"],p="/list-klien/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/list-klien/page",pathname:"/list-klien",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},688:(e,a,t)=>{Promise.resolve().then(t.bind(t,6734))},6323:(e,a,t)=>{"use strict";t.d(a,{Z:()=>o});var r=t(8964);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,a,t)=>!!e&&t.indexOf(e)===a).join(" ");var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:n="",children:o,iconNode:d,...c},p)=>(0,r.createElement)("svg",{ref:p,...l,width:a,height:a,stroke:e,strokeWidth:s?24*Number(t)/Number(a):t,className:i("lucide",n),...c},[...d.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(o)?o:[o]])),o=(e,a)=>{let t=(0,r.forwardRef)(({className:t,...l},o)=>(0,r.createElement)(n,{ref:o,iconNode:a,className:i(`lucide-${s(e)}`,t),...l}));return t.displayName=`${e}`,t}},457:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(6323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9256:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(6323).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6734:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var r=t(7247),s=t(6095),i=t.n(s),l=t(8964),n=t(4178),o=t(571),d=t(9256),c=t(457),p=t(6323);let u=(0,p.Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),m=(0,p.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var x=t(7804);function h(){let[e,a]=(0,l.useState)([]),[t,s]=(0,l.useState)(!0),[p,h]=(0,l.useState)(null),[y,g]=(0,l.useState)(""),[f,b]=(0,l.useState)(null),[v,j]=(0,l.useState)(!1),[k,N]=(0,l.useState)(1),[w,_]=(0,l.useState)(1),[C,P]=(0,l.useState)(0),[$]=(0,l.useState)(10),E=(0,n.useRouter)(),S=async(e=1,t="")=>{try{s(!0);let r=`https://siap-be-production.up.railway.app/api/klien/?page=${e}&page_size=${$}`;t&&(r+=`&search=${encodeURIComponent(t)}`);let i=await fetch(r);if(!i.ok)throw Error("Failed to fetch data");let l=await i.json();a(l.results),_(l.total_pages),N(l.current_page),P(l.total_items)}catch(e){h(e.message),o.Am.error("Failed to fetch clients")}finally{s(!1)}},D=e=>{e>=1&&e<=w&&(N(e),S(e,y))},Z=e=>{E.push(`/list-klien/detail-klien/${e}`)},A=e=>{E.push(`/list-klien/update/${e}`)},q=async()=>{if(f)try{if((await fetch(`https://siap-be-production.up.railway.app/api/klien/${f.id}/delete/`,{method:"DELETE"})).ok)S(k,y),j(!1),b(null),o.Am.success("Klien berhasil dihapus!");else throw Error("Failed to delete client")}catch(e){console.error("Error deleting client:",e),o.Am.error("Gagal menghapus klien.")}};return t&&!e.length?r.jsx("div",{className:`${i().className} flex justify-center items-center min-h-screen`,children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-900"})}):p?r.jsx("div",{className:`${i().className} flex justify-center items-center min-h-screen`,children:(0,r.jsxs)("div",{className:"text-red-500",children:["Error: ",p]})}):(0,r.jsxs)("div",{className:`${i().className} p-6`,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-primary-900",children:"Daftar Klien"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-2",children:["Total ",C," klien ",y&&"ditemukan"]})]}),(0,r.jsxs)(x.Z,{onClick:()=>{E.push("/list-klien/tambah")},variant:"primary",className:"flex items-center",children:[r.jsx("span",{className:"text-3xl mr-2",children:"+"}),r.jsx("span",{className:"text-sm",children:"Tambah Klien"})]})]}),(0,r.jsxs)("div",{className:"relative w-full mb-6",children:[r.jsx("div",{className:"absolute inset-y-0 left-6 flex items-center pointer-events-none",children:r.jsx(d.Z,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Cari berdasarkan nama klien, perusahaan, atau daerah...",className:`w-full pl-14 pr-6 py-3 rounded-full border-2 border-gray-200 outline-none bg-transparent text-gray-600 text-sm ${i().className} focus:border-primary-900 transition-colors`,value:y,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 px-8 py-3 text-xs text-gray-500 uppercase font-medium bg-gray-50 rounded-t-lg",children:[r.jsx("div",{children:"Nama Klien"}),r.jsx("div",{children:"Nama Perusahaan"}),r.jsx("div",{children:"Daerah"}),r.jsx("div",{className:"text-center",children:"Action"})]}),r.jsx("div",{className:"space-y-3",children:0===e.length?r.jsx("div",{className:"text-center py-8 text-gray-500",children:y?"Tidak ada klien yang ditemukan":"Belum ada klien yang ditambahkan"}):e.map(e=>(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 px-8 py-3 bg-white rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200",children:[r.jsx("div",{children:r.jsx("p",{className:"font-bold text-gray-700",children:e.nama_klien})}),r.jsx("div",{className:"text-gray-500",children:e.nama_perusahaan}),r.jsx("div",{className:"text-gray-500",children:e.daerah}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[r.jsx("button",{onClick:()=>Z(e.id),className:"p-2 text-primary-700 hover:bg-primary-50 rounded-full transition-colors",title:"View Details",children:r.jsx(c.Z,{size:18})}),r.jsx("button",{onClick:()=>A(e.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-full transition-colors",title:"Edit",children:r.jsx(u,{size:18})}),r.jsx("button",{onClick:()=>{b(e),j(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete",children:r.jsx(m,{size:18})})]})]},e.id))}),w>1&&(0,r.jsxs)("div",{className:"mt-6 flex justify-end items-center space-x-8 px-8",children:[(0,r.jsxs)("button",{onClick:()=>D(k-1),disabled:1===k,className:`flex items-center space-x-1 ${1===k?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:text-gray-500"}`,children:[r.jsx("span",{children:"<"}),r.jsx("span",{children:"Sebelumnya"})]}),(0,r.jsxs)("button",{onClick:()=>D(k+1),disabled:k===w,className:`flex items-center space-x-1 ${k===w?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:text-gray-500"}`,children:[r.jsx("span",{children:"Selanjutnya"}),r.jsx("span",{children:">"})]})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-sm w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Konfirmasi Hapus"}),(0,r.jsxs)("p",{className:"mb-6 text-gray-600",children:['Apakah Anda yakin ingin menghapus klien "',f?.nama_klien,'"?']}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[r.jsx(x.Z,{onClick:()=>{j(!1),b(null)},variant:"secondary",className:"px-4 py-2",children:"Batal"}),r.jsx(x.Z,{onClick:q,variant:"danger",className:"px-4 py-2",children:"Hapus"})]})]})})]})}},7804:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var r=t(7247);t(8964);let s=({onClick:e,children:a,type:t="button",variant:s="default",className:i="",...l})=>r.jsx("button",{onClick:e,type:t,className:`px-4 py-2 rounded-full transition-colors ${{default:"bg-gray-200 text-black hover:bg-gray-300",primary:"bg-[#a62626] text-white hover:bg-[#a62828]",secondary:"bg-white border border-[#a62626] text-[#a62626] hover:bg-[#f2f2f2]",modalCancel:"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-full border border-gray-300 hover:border-gray-400 transition-colors",modalDelete:"px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors"}[s]} ${i}`,...l,children:a})},6012:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\list-klien\page.js#default`)},3881:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var r=t(4564);let s=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[379,354,564,384],()=>t(5658));module.exports=r})();