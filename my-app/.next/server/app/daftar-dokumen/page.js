(()=>{var e={};e.id=534,e.ids=[534],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},1482:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),a(5772),a(6765),a(996);var n=a(170),r=a(5002),s=a(3876),i=a.n(s),o=a(6299),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);a.d(t,d);let l=["",{children:["daftar-dokumen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5772)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\daftar-dokumen\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\daftar-dokumen\\page.js"],u="/daftar-dokumen/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/daftar-dokumen/page",pathname:"/daftar-dokumen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},7667:(e,t,a)=>{Promise.resolve().then(a.bind(a,3581))},3581:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(7247),r=a(8964),s=a(4178);a(571);var i=a(5684),o=a.n(i);function d(){let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(""),[i,d]=(0,r.useState)(1),[l,c]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[_,x]=(0,r.useState)(null),[f,k]=(0,r.useState)("desc"),[v,j]=(0,r.useState)("id"),[g,y]=(0,r.useState)(""),C=e=>{x(e),h(!0)},w=l.filter(e=>{let a=e.survey_name.toLowerCase().includes(t.toLowerCase())||e.client_name.toLowerCase().includes(t.toLowerCase())||e.doc_type.toLowerCase().includes(t.toLowerCase())||e.id.toLowerCase().includes(t.toLowerCase()),n=!g||e.doc_type.toLowerCase()===g.toLowerCase();return a&&n}),b=e=>{let t="asc"===f?"desc":"asc";j(e),k(t),c([...l].sort((a,n)=>{let r,s;return("id"===e?(r=parseInt(a.id.slice(0,3)),s=parseInt(n.id.slice(0,3))):(r=a[e].toLowerCase(),s=n[e].toLowerCase()),r<s)?"asc"===t?-1:1:r>s?"asc"===t?1:-1:0}))},P=10*i,D=P-10,N=w.slice(D,P),S=Math.ceil(w.length/10),B=(t,a)=>{let n=encodeURIComponent(t);e.push(`/daftar-dokumen/detail-dokumen/${n}/${a}`)},O=async(e,t)=>{let a=e+D,n=encodeURIComponent(t);m(a);try{await fetch(`https://siap-be-production.up.railway.app/api/daftarDokumen/${n}/delete/`,{method:"DELETE"}),h(!1),console.log("dokumen deleted");let e=l.filter((e,t)=>t!==a);c(e)}catch(e){console.error("Error deleting dokumen:",e)}finally{m(null)}};return(0,n.jsxs)("div",{className:o().mainContainer,children:[(0,n.jsxs)("div",{className:o().container,children:[n.jsx("h1",{className:"text-4xl font-weight-700 text-primary-900",children:"Daftar Dokumen Pendukung"}),n.jsx("div",{className:"w-full flex px-6 py-3 mb-6 rounded-full border-2 border overflow-hidden mx-auto",children:n.jsx("input",{type:"text",placeholder:"Cari dokumen...",value:t,onChange:e=>{a(e.target.value),d(1)},className:"w-full outline-none bg-transparent text-gray-600 text-sm"})}),n.jsx("div",{className:o().filterContainer,children:(0,n.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:o().filterSelect,children:[n.jsx("option",{value:"",children:"Filter Jenis Dokumen"}),n.jsx("option",{value:"invoiceDP",children:"Invoice DP"}),n.jsx("option",{value:"invoiceFinal",children:"Invoice Final"}),n.jsx("option",{value:"kwitansiDP",children:"Kwitansi DP"}),n.jsx("option",{value:"kwitansiFinal",children:"Kwitansi Final"})]})}),(0,n.jsxs)("table",{className:o().table,children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{className:o().header,children:[(0,n.jsxs)("th",{onClick:()=>b("id"),children:["Kode ","id"===v?"asc"===f?"↑":"↓":""]}),n.jsx("th",{children:"Judul"}),n.jsx("th",{children:"Klien"}),n.jsx("th",{children:"Jenis Dokumen"}),n.jsx("th",{children:"Action"})]})}),n.jsx("tbody",{children:N.map((e,t)=>(0,n.jsxs)("tr",{className:t+D===u?o().fadeOut:"",children:[n.jsx("td",{children:e.id}),n.jsx("td",{children:e.survey_name}),n.jsx("td",{children:e.client_name}),n.jsx("td",{children:e.doc_type}),(0,n.jsxs)("td",{className:o().actions,children:[n.jsx("button",{onClick:()=>B(e.id,e.doc_type),className:"text-gray-800 hover:text-gray-600 transition-colors",children:n.jsx("img",{src:"/images/eye-icon.png",alt:"Details"})}),n.jsx("button",{className:o().deleteButton,onClick:()=>C(t),children:n.jsx("img",{src:"/images/Delete.svg",alt:"Delete"})})]})]},e.id))})]}),(0,n.jsxs)("div",{className:o().pagination,children:[i>1&&n.jsx("button",{onClick:()=>d(i-1),children:"< Kembali"}),i<S&&n.jsx("button",{onClick:()=>d(i+1),children:"Selanjutnya >"})]})]}),p&&n.jsx("div",{className:o().modalOverlay,children:(0,n.jsxs)("div",{className:o().modal,children:[n.jsx("p",{children:"Apakah Anda yakin ingin menghapus dokumen ini?"}),n.jsx("button",{onClick:()=>O(_,l[_].id),className:o().confirmButton,children:"Ya"}),n.jsx("button",{onClick:()=>h(!1),className:o().cancelButton,children:"Tidak"})]})})]})}},5684:e=>{e.exports={container:"daftar-dokumen_container__0CDR6",title:"daftar-dokumen_title__CiV18",addButton:"daftar-dokumen_addButton__p7UNh",searchContainer:"daftar-dokumen_searchContainer__hJz2t",searchInput:"daftar-dokumen_searchInput__zGNqX",modalOverlay:"daftar-dokumen_modalOverlay__M6I7O",modal:"daftar-dokumen_modal__QkeWy",confirmButton:"daftar-dokumen_confirmButton__Oux4N",cancelButton:"daftar-dokumen_cancelButton__c2Gzi",table:"daftar-dokumen_table__2QVCr",header:"daftar-dokumen_header__W5nBy",icon:"daftar-dokumen_icon__OvP8b",actions:"daftar-dokumen_actions__KWaUN",editButton:"daftar-dokumen_editButton__yg_Zz",deleteButton:"daftar-dokumen_deleteButton__n_J3a",moreButton:"daftar-dokumen_moreButton__S2M7c",pagination:"daftar-dokumen_pagination__U3K1y",fadeOut:"daftar-dokumen_fadeOut__Sxu65",fadeOutSlideUp:"daftar-dokumen_fadeOutSlideUp__RrEEm"}},5772:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});let n=(0,a(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\daftar-dokumen\page.js#default`)},3881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(4564);let r=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,n.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[379,354,564,384],()=>a(1482));module.exports=n})();