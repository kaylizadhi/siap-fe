(()=>{var e={};e.id=523,e.ids=[523],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},4757:e=>{e.exports={style:{fontFamily:"'__Caudex_ebaa45', '__Caudex_Fallback_ebaa45'",fontWeight:700,fontStyle:"normal"},className:"__className_ebaa45"}},6518:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>o,routeModule:()=>x,tree:()=>m}),t(655),t(6765),t(996);var s=t(170),l=t(5002),n=t(3876),i=t.n(n),r=t(6299),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);t.d(a,d);let m=["",{children:["daftar-dokumen",{children:["detail-dokumen",{children:["[id]",{children:["[doc_type]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,655)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\daftar-dokumen\\detail-dokumen\\[id]\\[doc_type]\\page.js"]}]},{}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6765)),"C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["C:\\Users\\kayli\\OneDrive\\Documents\\09\\propen\\siap-fe\\my-app\\src\\app\\daftar-dokumen\\detail-dokumen\\[id]\\[doc_type]\\page.js"],c="/daftar-dokumen/detail-dokumen/[id]/[doc_type]/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/daftar-dokumen/detail-dokumen/[id]/[doc_type]/page",pathname:"/daftar-dokumen/detail-dokumen/[id]/[doc_type]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},1444:(e,a,t)=>{Promise.resolve().then(t.bind(t,2707))},2707:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var s=t(7247),l=t(4757),n=t.n(l),i=t(8964),r=t(4178),d=t(571);t(5996);var m=t(7804);function o({params:e}){let{id:a,doc_type:t}=e,[l,o]=(0,i.useState)(null),[c,p]=(0,i.useState)(!1),x=(0,r.useRouter)(),u=async()=>{console.log("Export button clicked for ");let{url:e,fileNameFallback:a,data:t}={invoiceDP:{url:"https://siap-be-production.up.railway.app/api//dokumen_pendukung/export_existing_invoice_dp/",fileNameFallback:`invoiceDP_${l.survey_name}.xlsx`,data:{client_name:l.client_name,survey_name:l.survey_name,respondent_count:l.respondent_count,address:l.address,amount:parseFloat(l.amount).toString(),paid_percentage:parseFloat(l.paid_percentage).toString(),nominal_tertulis:l.nominal_tertulis,additional_info:l.additional_info,date:l.date}},invoiceFinal:{url:"https://siap-be-production.up.railway.app/api/dokumen_pendukung/export_existing_invoice_final/",fileNameFallback:`invoiceFinal_${l.survey_name}.xlsx`,data:{client_name:l.client_name,survey_name:l.survey_name,respondent_count:l.respondent_count,address:l.address,amount:parseFloat(l.amount).toString(),paid_percentage:parseFloat(l.paid_percentage).toString(),nominal_tertulis:l.nominal_tertulis,additional_info:l.additional_info,date:l.date}},kwitansiDP:{url:"https://siap-be-production.up.railway.app/api/dokumen_pendukung/export_existing_kwitansi_dp/",fileNameFallback:`kwitansiDP_${l.survey_name}.xlsx`,data:{client_name:l.client_name,survey_name:l.survey_name,amount:parseFloat(l.amount).toString(),nominal_tertulis:l.nominal_tertulis,additional_info:l.additional_info,date:l.date}},kwitansiFinal:{url:"https://siap-be-production.up.railway.app/api/dokumen_pendukung/export_existing_kwitansi_final/",fileNameFallback:`kwitansiFinal_${l.survey_name}.xlsx`,data:{client_name:l.client_name,survey_name:l.survey_name,amount:parseFloat(l.amount).toString(),nominal_tertulis:l.nominal_tertulis,additional_info:l.additional_info,date:l.date}}}[l.doc_type];if(!e||!t){console.error("Invalid document type specified");return}try{let s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to export document");let l=await s.blob(),n=window.URL.createObjectURL(l),i=document.createElement("a");i.href=n;let r=s.headers.get("Content-Disposition")?.split("filename=")[1]||a;i.download=r.replace(/"/g,""),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(n)}catch(e){console.error("Error exporting document:",e)}},h=async e=>{let a=encodeURIComponent(e);try{(await fetch(`https://siap-be-production.up.railway.app/api/daftarDokumen/${a}/delete/`,{method:"DELETE"})).ok?(d.Am.success("Dokumen berhasil dihapus!"),setTimeout(()=>{x.push("/daftar-dokumen")},500)):d.Am.error("Gagal menghapus dokumen.")}catch(e){console.error("Error:",e),d.Am.error("Terjadi kesalahan saat menghapus dokumen.")}};return l?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[s.jsx("h1",{className:`text-4xl font-bold mb-6 text-primary-900 ${n().className}`,children:"Detail Dokumen"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-lg",children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Kode Dokumen:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.id})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Jenis Dokumen:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.doc_type})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Judul:"}),s.jsx("p",{className:`mt-1 text-lg font-bold text-gray-800 ${n().className}`,children:l.survey_name})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Nama Klien:"}),s.jsx("p",{className:`mt-1 text-lg font-semibold text-gray-800 ${n().className}`,children:l.client_name})]}),["invoiceDP","invoiceFinal"].includes(t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Alamat:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.address||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Jumlah Responden:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.respondent_count||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Harga Total:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:new Intl.NumberFormat("id-ID").format(l.amount)||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Persentase Dibayar:"}),(0,s.jsxs)("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:[l.paid_percentage||"N/A","%"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Jumlah Dibayarkan:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:new Intl.NumberFormat("id-ID").format(l.amount*l.paid_percentage/100)||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Jumlah Dibayarkan Tertulis:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.nominal_tertulis||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Tenggat Pembayaran:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.date||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Keterangan Tambahan:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.additional_info||"N/A"})]})]}):["kwitansiDP","kwitansiFinal"].includes(t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Jumlah Dibayarkan:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:new Intl.NumberFormat("id-ID").format(l.amount)||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Jumlah Dibayarkan Tertulis:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.nominal_tertulis||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Tenggat Pembayaran:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.date||"N/A"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium text-red-700 ${n().className}`,children:"Keterangan Tambahan:"}),s.jsx("p",{className:`mt-1 text-lg text-gray-800 ${n().className}`,children:l.additional_info||"N/A"})]})]}):null," ",(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(m.Z,{variant:"primary",onClick:()=>x.push("/daftar-dokumen"),className:"flex items-center px-6 py-3",children:s.jsx("span",{className:`text-sm ${n().className}`,children:"Kembali"})}),s.jsx("div",{className:"flex space-x-4",children:s.jsx(m.Z,{variant:"primary",onClick:e=>u(e),className:"flex items-center px-6 py-3",children:s.jsx("span",{className:`text-sm ${n().className}`,children:"Export"})})}),s.jsx("div",{className:"flex space-x-4",children:s.jsx(m.Z,{variant:"secondary",onClick:()=>p(!0),className:"px-3 py-2",children:s.jsx("span",{className:`${n().className}`,children:"Delete"})})})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-sm w-full",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Konfirmasi Hapus"}),(0,s.jsxs)("p",{className:"mb-6 text-gray-600",children:['Apakah Anda yakin ingin menghapus dokumen "',l.doc_type," ",l.survey_name,'"? Tindakan ini tidak dapat dibatalkan.']}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[s.jsx(m.Z,{onClick:()=>p(!1),variant:"modalCancel",children:"Batal"}),s.jsx(m.Z,{onClick:()=>{h(l.id),p(!1)},variant:"modalDelete",children:"Hapus"})]})]})})]}):s.jsx("div",{className:"text-center",children:"Loading..."})}},7804:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(7247);t(8964);let l=({onClick:e,children:a,type:t="button",variant:l="default",className:n="",...i})=>s.jsx("button",{onClick:e,type:t,className:`px-4 py-2 rounded-full transition-colors ${{default:"bg-gray-200 text-black hover:bg-gray-300",primary:"bg-[#a62626] text-white hover:bg-[#a62828]",secondary:"bg-white border border-[#a62626] text-[#a62626] hover:bg-[#f2f2f2]",modalCancel:"px-6 py-2 text-gray-600 hover:text-gray-800 rounded-full border border-gray-300 hover:border-gray-400 transition-colors",modalDelete:"px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors"}[l]} ${n}`,...i,children:a})},655:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(5347).createProxy)(String.raw`C:\Users\kayli\OneDrive\Documents\09\propen\siap-fe\my-app\src\app\daftar-dokumen\detail-dokumen\[id]\[doc_type]\page.js#default`)},3881:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var s=t(4564);let l=e=>[{type:"image/x-icon",sizes:"29x32",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[379,354,564,384],()=>t(6518));module.exports=s})();